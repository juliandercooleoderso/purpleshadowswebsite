<!DOCTYPE html>
<html lang="de">
<head>
<meta charset="UTF-8">
<title>Purple Shadows</title>
<script src="/socket.io/socket.io.js"></script>
<script defer src="https://cdn.jsdelivr.net/npm/axios/dist/axios.min.js"></script>
<style>
body, html { margin:0; padding:0; font-family:"Poppins",sans-serif; background:#000; color:#fff; overflow-x:hidden; }
header { background:#3b0066; padding:15px; font-size:1.8rem; font-weight:bold; letter-spacing:2px; position:relative; text-align:center;}
#logged-in { position:absolute; right:20px; top:15px; font-size:1rem; }
nav { text-align:center; margin:10px; }
nav button { background:#5a00a3; color:#fff; border:none; padding:10px 20px; margin:5px; border-radius:12px; cursor:pointer; transition:.3s;}
nav button:hover { background:#9b00ff; }
section { display:none; margin-top:20px; }
section.active { display:block; }
.blur-card { background: rgba(60,0,90,0.5); backdrop-filter: blur(10px); border-radius:20px; padding:20px; box-shadow:0 0 30px #7d2aff; display:flex; flex-direction:column; align-items:center; transition: transform .3s; }
.blur-card:hover { transform: translateY(-5px); box-shadow:0 0 50px #d18eff; }
.blur-card img { border-radius:12px; margin-bottom:10px; max-width:180px; }
button.fancy { background:linear-gradient(90deg,#7d2aff,#d18eff); border:none; color:#fff; padding:8px 15px; border-radius:10px; cursor:pointer; transition:.3s; }
button.fancy:hover { background:linear-gradient(90deg,#d18eff,#7d2aff); transform:scale(1.05);}
#viewer { position:absolute; top:20px; left:20px; font-size:1.1rem; }
.logo-float { animation: floatLogo 4s ease-in-out infinite; display:block; margin:25px auto; width:220px; filter: drop-shadow(0 0 25px #9b00ff);}
@keyframes floatLogo {0%,100%{transform:translateY(0);}50%{transform:translateY(-10px);}}
#login-container{position:fixed;top:0;left:0;width:100%;height:100%;background:#000; display:flex; justify-content:center; align-items:center; z-index:50; }
#login-box{background: rgba(60,0,90,0.5); backdrop-filter:blur(10px); padding:30px; border-radius:20px; width:300px; box-shadow:0 0 20px #7d2aff; text-align:center;}
#login-box input,#login-box button{display:block; width:100%; margin:10px 0; padding:10px; border-radius:8px; border:none;}
.particle { position:absolute; border-radius:50%; background: rgba(155,0,255,0.7); pointer-events:none; animation: floatParticle linear infinite;}
@keyframes floatParticle {0%{transform:translateY(0) translateX(0) scale(.5);opacity:.5}50%{transform:translateY(-50px) translateX(30px) scale(1);opacity:1}100%{transform:translateY(-100px) translateX(-20px) scale(.5);opacity:.5}}
table { width:90%; margin:20px auto; border-collapse:collapse; background: rgba(60,0,90,0.5); border-radius:12px; overflow:hidden;}
th, td { border:1px solid #7d2aff; padding:12px 15px; text-align:center; }
th { background:#5a00a3; }
</style>
</head>
<body>

<header>üíú Purple Shadows üíú<div id="logged-in"></div></header>
<nav>
<button onclick="showTab('home')">Startseite</button>
<button onclick="showTab('shop')">Shop</button>
<button onclick="showTab('members')">Mitgliederliste</button>
<button onclick="showTab('autoliste')">Autoliste</button>
<button id="stats-btn" onclick="showTab('stats')" style="display:none;">Statistiken</button>
</nav>

<div id="viewer">üëÅÔ∏è 0</div>

<!-- Startseite -->
<section id="home" class="active">
<h2>üíú Willkommen bei Purple Shadows üíú</h2>
<img class="logo-float" src="https://cdn.discordapp.com/attachments/1231233950089744504/1425925001311293602/Lila_Schatten_Logo-removebg-preview.png">
</section>

<!-- Shop -->
<section id="shop">
<h2>üíú Purple Shadows - Shop üíú</h2>
<img class="logo-float" src="https://cdn.discordapp.com/attachments/1231233950089744504/1425925001311293602/Lila_Schatten_Logo-removebg-preview.png">
<div style="display:grid; grid-template-columns:repeat(auto-fit,minmax(200px,1fr));gap:25px;padding:20px;">
<div class="blur-card">
<img src="https://tr.rbxcdn.com/180DAY-9ed721d945d3af44a3988cdafef415d8/420/420/Shirt/Webp/noFilter">
<h3>Shirt Variante 1</h3>
<button class="fancy" onclick="window.open('https://www.roblox.com/catalog/136136555284898/Purple-Shadows-Shirt')">Kaufen</button>
</div>
<div class="blur-card">
<img src="https://tr.rbxcdn.com/180DAY-349c7d6037672b05ebb1c7a21018a854/420/420/Shirt/Webp/noFilter">
<h3>Shirt Variante 2</h3>
<button class="fancy" onclick="window.open('https://www.roblox.com/catalog/123029546504797/Purple-Shadows-Boss')">Kaufen</button>
</div>
<div class="blur-card">
<img src="https://tr.rbxcdn.com/180DAY-22d02496c4e185f1ea538245ee6cc47b/420/420/FrontAccessory/Png/noFilter">
<h3>Unsere Weste</h3>
<button class="fancy" onclick="window.open('https://www.roblox.com/share?code=bd366a56c010864d9d25d5c61049a40a&type=AvatarItemDetails')">Kaufen</button>
</div>
</div>
</section>

<!-- Autoliste -->
<section id="autoliste">
<h2>üíú Purple Shadows - Autoliste üíú</h2>
<img class="logo-float" src="https://cdn.discordapp.com/attachments/1231233950089744504/1425925001311293602/Lila_Schatten_Logo-removebg-preview.png">
<div style="display:grid; grid-template-columns:repeat(3,minmax(180px,1fr));gap:20px;padding:20px;">

<!-- Beispiel Auto -->
<div class="blur-card" style="padding:15px;">
<img src="https://cdn.discordapp.com/attachments/1412888879870251068/1412888880088092925/image.png" style="width:100%;border-radius:10px;">
<h3>Sunfury Pony</h3>
<button class="fancy" onclick="openAutoPopup('Sunfury Pony','96,000‚Ç¨','#3A00BA [Metal]','#DADADA','#000000','Violet','Ab üíú Member üíú')">Ansehen</button>
</div>

<div class="blur-card" style="padding:15px;">
<img src="https://cdn.discordapp.com/attachments/1412887889368580248/1412887889674502278/image.png" style="width:100%;border-radius:10px;">
<h3>Valois 650</h3>
<button class="fancy" onclick="openAutoPopup('Valois 650','375,000‚Ç¨','#3A00BA [Metal]','#DADADA','#000000','Violet','Ab üíú Member üíú')">Ansehen</button>
</div>

<!-- Weitere Autos so wie in deinem Beispiel hinzuf√ºgen... -->

</div>
</section>

<!-- Mitgliederliste -->
<section id="members">
<h2>üíú Purple Shadows - Mitgliederliste üíú</h2>
<table>
<thead><tr><th>Username</th><th>Rang</th></tr></thead>
<tbody id="members-table"></tbody>
</table>
</section>

<!-- Statistiken -->
<section id="stats">
<h2>üìä Statistiken</h2>
<div class="blur-card" style="max-width:400px;margin:auto;"><h3>üü¢ Online User</h3>
<div id="online-users-box" style="background:rgba(0,0,0,0.3);border-radius:10px;padding:10px;max-height:300px;overflow-y:auto;"><p style="opacity:0.6">Niemand online</p></div>
</div>
</section>

<!-- Auto Popup -->
<div id="auto-popup" style="display:none;position:fixed;top:0;left:0;width:100%;height:100%;background:rgba(0,0,0,0.85);justify-content:center;align-items:center;z-index:20;">
<div id="auto-popup-content" style="background:#2b0030;padding:25px;border-radius:20px;width:300px;text-align:left;box-shadow:0 0 30px #9b00ff;">
<h3 id="auto-popup-name">Auto Name</h3>
<p id="auto-popup-preis">Preis: </p>
<p id="auto-popup-primary">Primary Farbe: </p>
<p id="auto-popup-interior">Interieur Farbe: </p>
<p id="auto-popup-wheels">Felgen Farbe: </p>
<p id="auto-popup-undercarriage">Unterboden: </p>
<p id="auto-popup-rank">Rang: </p>
<button class="fancy" onclick="document.getElementById('auto-popup').style.display='none'">Close</button>
</div>
</div>

<!-- Login -->
<div id="login-container">
<div id="login-box">
<h2>Login</h2>
<input id="login-username" placeholder="Username">
<input id="login-password" type="password" placeholder="Passwort">
<button onclick="login()">Login</button>
<p id="login-error" style="color:red;"></p>
</div>
</div>

<script>
const socket = io();
let currentUser = null;
const allowedUsers = ["Julian","Max"];

// Tabs
function showTab(id){
document.querySelectorAll("section").forEach(s=>s.classList.remove("active"));
document.getElementById(id).classList.add("active");
}

// Mitgliederliste rendern
function renderMembers(members){
const table = document.getElementById("members-table");
table.innerHTML="";
members.forEach(m=>{
const row=document.createElement("tr");
row.innerHTML=`<td>${m.username}</td><td>${m.rank}</td>`;
table.appendChild(row);
});
}

// Socket Events
socket.on("updateMembers", renderMembers);
socket.on("updateViewers",count=>document.getElementById("viewer").innerText=`üëÅÔ∏è ${count}`);
socket.on("updateOnlineUsers",users=>{
const box=document.getElementById("online-users-box");box.innerHTML="";
if(users.length===0){box.innerHTML="<p style='opacity:0.6'>Niemand online</p>";return;}
users.forEach(u=>{const p=document.createElement("p");p.textContent="‚Ä¢ "+u;box.appendChild(p);});
});

// Login
async function login(){
const username=document.getElementById("login-username").value.trim();
const password=document.getElementById("login-password").value.trim();
if(!username||!password){document.getElementById("login-error").innerText="Bitte ausf√ºllen!";return;}
try{
const res=await axios.post("/login",{username,password});
if(res.data.success){
currentUser=username;
document.getElementById("login-container").style.display="none";
document.getElementById("logged-in").innerText=`Eingeloggt als: ${username}`;
socket.emit("userOnline",username);
if(allowedUsers.includes(username)) document.getElementById("stats-btn").style.display="inline-block";
}else document.getElementById("login-error").innerText="Login fehlgeschlagen!";
}catch(e){document.getElementById("login-error").innerText="Serverfehler!";}
}

// Auto Popup
function openAutoPopup(name, preis, primary, interior, wheels, undercarriage, rank){
document.getElementById("auto-popup-name").innerText=name;
document.getElementById("auto-popup-preis").innerText="Preis: "+preis;
document.getElementById("auto-popup-primary").innerText="Primary Farbe: "+primary;
document.getElementById("auto-popup-interior").innerText="Interieur Farbe: "+interior;
document.getElementById("auto-popup-wheels").innerText="Felgen Farbe: "+wheels;
document.getElementById("auto-popup-undercarriage").innerText="Unterboden: "+undercarriage;
document.getElementById("auto-popup-rank").innerText="Rang: "+rank;
document.getElementById("auto-popup").style.display="flex";
}

// Particles
for(let i=0;i<40;i++){
const p=document.createElement("div");p.className="particle";const size=Math.random()*5+5;p.style.width=size+"px";p.style.height=size+"px";p.style.left=Math.random()*window.innerWidth+"px";p.style.top=Math.random()*window.innerHeight+"px";p.style.animationDuration=(5+Math.random()*5)+"s";document.body.appendChild(p);
}
</script>

</body>
</html>

